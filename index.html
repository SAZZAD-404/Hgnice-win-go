<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Hgnice Hack - Sazzad Islam</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
  body{background:linear-gradient(135deg,#0a0e17 0%,#1a243b 100%);color:#fff;min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}
  .login-container{width:100%;max-width:420px;background:#131a2a;border-radius:12px;padding:30px;box-shadow:0 10px 30px rgba(0,0,0,.5);border:1px solid #2a3655}
  .logo-section{text-align:center;margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid #2a3655}
  .logo{color:#4a9eff;font-size:28px;font-weight:700;margin-bottom:5px;text-shadow:0 0 10px rgba(74,158,255,.3)}
  .subtitle{color:#8a9bb8;font-size:16px;margin-bottom:5px}
  .form-group{margin-bottom:20px}
  label{display:block;margin-bottom:8px;color:#8a9bb8;font-size:14px;font-weight:500}
  input{width:100%;padding:14px 15px;background:#1a243b;border:1px solid #2a3655;border-radius:6px;color:#fff;font-size:15px;transition:all .3s}
  input:focus{outline:none;border-color:#4a9eff;box-shadow:0 0 0 2px rgba(74,158,255,.2)}
  .login-btn{width:100%;padding:14px;background:linear-gradient(to right,#4a9eff,#3a8eef);color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:700;cursor:pointer;transition:all .3s;margin-top:10px}
  .login-btn:hover{background:linear-gradient(to right,#3a8eef,#2a7edf);transform:translateY(-2px);box-shadow:0 5px 15px rgba(74,158,255,.4)}
  .options{display:flex;justify-content:space-between;margin-top:15px;font-size:14px}
  .remember{display:flex;align-items:center}
  .remember input{width:auto;margin-right:8px}
  .forgot-password{color:#4a9eff;text-decoration:none;transition:color .3s}
  .forgot-password:hover{color:#3a8eef;text-decoration:underline}
  .footer{text-align:center;margin-top:30px;padding-top:20px;border-top:1px solid #2a3655;font-size:13px;color:#8a9bb8;line-height:1.5}
  .error-message{color:#ff6b6b;font-size:14px;margin-top:10px;text-align:center;display:none}
  .success-message{color:#4cd964;font-size:14px;margin-top:10px;text-align:center;display:none}
  .loading{display:none;text-align:center;margin-top:15px}
  .spinner{border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top:3px solid #4a9eff;width:20px;height:20px;animation:spin 1s linear infinite;margin:0 auto}
  @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
  .server-info{background:#1a243b;border-radius:6px;padding:15px;margin-top:20px;border-left:3px solid #4a9eff}
  .time-left{color:#4cd964;font-weight:700}

  /* inactive overlay */
  .inactive-overlay{display:none;padding:30px;border-radius:12px;text-align:center;background:linear-gradient(135deg,#1a243b,#0f1626);border:1px solid #2a3655}
  .inactive-overlay h2{color:#ff6b6b;margin-bottom:10px}
  .inactive-overlay p{color:#8a9bb8;margin-bottom:15px}
  .status-note{font-size:13px;color:#8a9bb8;margin-top:10px}
</style>
</head>
<body>
  <div id="uiWrapper">
    <!-- Login container (normal) -->
    <div class="login-container" id="loginContainer" aria-live="polite">
      <div class="logo-section">
        <div class="logo">HGNICE HACK BY SAZZAD</div>
      </div>

      <form id="loginForm">
        <div class="form-group">
          <label for="username">Username</label>
          <input type="text" id="username" placeholder="Enter your username" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" id="password" placeholder="Enter your password" required>
        </div>

        <button type="submit" class="login-btn">LOGIN</button>

        <div class="error-message" id="errorMessage">Invalid username or password</div>
        <div class="success-message" id="successMessage">Login successful</div>

        <div class="loading" id="loading">
          <div class="spinner"></div>
          <p>Connecting to server...</p>
        </div>

        <div class="options">
          <div class="remember">
          </div>
        </div>
      </form>

      <div class="footer">
        <p>Â© Sazzad Islam - All Rights Reserved</p>
        <div class="status-note" id="statusNote"></div>
      </div>
    </div>

    <!-- Inactive view -->
    <div class="inactive-overlay" id="inactiveOverlay" role="status" aria-live="polite">
      <h2>This site is now inactive</h2>
      <p>The site owner has temporarily disabled the service. Please check back later.</p>
      <p class="status-note" id="inactiveDetails"></p>
    </div>
  </div>

<script>
const fileUrl = 'https://raw.githubusercontent.com/SAZZAD-404/Hgnice-win-go/main/status.txt';
const pollIntervalMs = 10000;
const autoReloadMs = 0;

const loginContainer = document.getElementById('loginContainer');
const inactiveOverlay = document.getElementById('inactiveOverlay');
const statusNote = document.getElementById('statusNote');
const inactiveDetails = document.getElementById('inactiveDetails');

async function checkStatusOnce() {
  try {
    statusNote.textContent = 'Checking site status...';
    const resp = await fetch(fileUrl, {cache: 'no-cache'});
    if (!resp.ok) throw new Error('Failed to fetch status file: ' + resp.status);
    const text = (await resp.text()).trim().toLowerCase();
    if (text === 'active') showActive();
    else showInactive(text || 'inactive');
  } catch (err) {
    console.error('Status check error:', err);
    showInactive('error: ' + (err.message || 'unknown'));
  }
}

function showActive() {
  inactiveOverlay.style.display = 'none';
  loginContainer.style.display = 'block';
  statusNote.textContent = 'Site status: active';
  statusNote.style.color = '#4cd964';
}

function showInactive(detailText) {
  loginContainer.style.display = 'none';
  inactiveOverlay.style.display = 'block';
  inactiveDetails.textContent = `Site status: ${detailText}`;
  statusNote.textContent = 'Site status: inactive';
  statusNote.style.color = '#ff6b6b';
}

checkStatusOnce();
setInterval(checkStatusOnce, pollIntervalMs);

/* --- login behavior (fixed username/password) --- */
document.getElementById('loginForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  const errorMessage = document.getElementById('errorMessage');
  const successMessage = document.getElementById('successMessage');
  const loading = document.getElementById('loading');

  errorMessage.style.display = 'none';
  successMessage.style.display = 'none';
  loading.style.display = 'block';

  const correctUser = "Hgnice";
  const correctPass = "Sazzad";

  setTimeout(function() {
    loading.style.display = 'none';

    if (username === correctUser && password === correctPass) {
      successMessage.style.display = 'block';
      localStorage.setItem('isLoggedIn', 'true');
      localStorage.setItem('username', username);

      setTimeout(function() {
        window.location.href = 'main.html';
      }, 1500);
    } else {
      errorMessage.textContent = "Invalid username or password!";
      errorMessage.style.display = 'block';
    }
  }, 1500);
});

/* --- full page auto-reload (configurable) --- */
if (typeof autoReloadMs === 'number' && autoReloadMs > 0) {
  (function scheduleReload() {
    setTimeout(function() {
      window.location.reload(true);
      scheduleReload();
    }, autoReloadMs);
  })();
}
</script>
</body>
</html>
